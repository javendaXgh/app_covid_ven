
R version 4.0.3 (2020-10-10) -- "Bunny-Wunnies Freak Out"
Copyright (C) 2020 The R Foundation for Statistical Computing
Platform: x86_64-apple-darwin17.0 (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> library(git2r)
> ##' R can use multiple archives: CRAN, BioConductor and Omegahat have
> ##' been supported for years.  It is equally easy to add local
> ##' archives from the same machine, or local network, or university /
> ##' company network as well as other publically available
> ##' repositories.  This function aids in the process, and defaults to
> ##' adding a \sQuote{drat} archive at GitHub under the given account.
> ##'
> ##' This function retrieves the current set of repositories (see
> ##' \code{getOption("repos")} for the current values) and adds
> ##' (or overwrites) the entry for the given \sQuote{account}. For
> ##' non-GitHub repositories an alternative URL can be specified as
> ##' \sQuote{alturl} (and assigned to \sQuote{account} as well).
> ##'
> ##'
> ##' An aliased function \code{add} is also available, but not exported
> ##' via \code{NAMESPACE} to not clobber a possibly unrelated function;
> ##' use it via \code{drat:::add()}.
> ##' @title Add a (drat) repository to the current session
> ##' @aliases drat:::add
> ##' @param account Character vector with one or more GitHub account for
> ##' which a \sQuote{drat} archive is to be added.
> ##' @param alturl Alternative repo specification with a complete url
> ##' string. If \sQuote{alturl} is provided, a single \sQuote{account}
> ##' must be provided as well.  For file-based access, the URL format
> ##' has to follow the \code{file:/some/path/} format starting with
> ##' \sQuote{file} followed by a single colon.
> ##' @param ... For the aliases variant, a catch-all collection of
> ##' parameters.
> ##' @return The altered set of repositories
> ##' @examples
> ##' \dontrun{
> ##'   addRepo("drat")                            # adds GitHub repo via default URL
> ##'   addRepo(c("eddelbuettel", "ghrr"))         # ditto but adds two repos at once
> ##'
> ##'   addRepo("LocalRepo", "file:/nas/R/repo")   # adds local file-based repo,
> ##'                                              # assumes you can read /nas/R/repo
> ##' }
> ##' @author Dirk Eddelbuettel
> addRepo <- function(account, alturl) {
+   r <- getOption("repos")
+   if (!missing(account) && missing(alturl)) {
+     for (acct in account) {
+       r[acct] <- paste0("https://", acct, ".github.io/drat/")
+     }
+   } else if (!missing(account) && !missing(alturl)) {
+     if (.Platform$OS.type == "windows") {
+       if (grepl(' ', alturl, fixed=TRUE)) {
+         stop("The path '", alturl, "' contains spaces which is not permitted.", call.=FALSE)
+       }
+     }
+     r[account] <- alturl
+   } else {
+     stop("Please provide either 'account' (and if desired 'alturl').", call.=FALSE)
+   }
+   options(repos = r)
+   invisible(r)
+ }
> 
> ##' @rdname addRepo
> add <- function(...) addRepo(...)
> 
> #https://stackoverflow.com/questions/55432420/how-can-i-commit-changes-to-github-from-within-a-r-script
> 
> # Git status.
> gitstatus <- function(dir = getwd()){
+   cmd_list <- list(
+     cmd1 = tolower(substr(dir,1,2)),
+     cmd2 = paste("cd",dir),
+     cmd3 = "git status"
+   )
+   cmd <- paste(unlist(cmd_list),collapse = " & ")
+   system(cmd)
+ }
> 
> # Git add.
> gitadd <- function(dir = getwd()){
+   cmd_list <- list(
+     cmd1 = tolower(substr(dir,1,2)),
+     cmd2 = paste("cd",dir),
+     cmd3 = "git add --all"
+   )
+   cmd <- paste(unlist(cmd_list),collapse = " & ")
+   system(cmd)
+ }
> 
> # Git commit.
> # gitcommit <- function(msg = "commit from Rstudio", dir = getwd()){
> #   cmd_list <- list(
> #     cmd1 = tolower(substr(dir,1,2)),
> #     cmd2 = paste("cd",dir),
> #     cmd3 = paste0("git commit -am ","'",msg,"'")
> #   )
> #   cmd <- paste(unlist(cmd_list),collapse = " & ")
> #   system(cmd)
> # }
> 
> # Git push.
> gitpush <- function(dir = getwd()){
+   cmd_list <- list(
+     cmd1 = tolower(substr(dir,1,2)),
+     cmd2 = paste("cd",dir),
+     cmd3 = "git push"
+   )
+   cmd <- paste(unlist(cmd_list),collapse = " & ")
+   system(cmd)
+ }
> 
> # Git commit.
> gitcommit <- function(msg = "commit from Rstudio", dir = getwd()){
+   cmd = sprintf("git commit -m\"%s\"",msg)
+   system(cmd)
+ }
> 
> #install.packages("git2r")
> 
> 
> # Insure you have navigated to a directory with a git repo.
> #dir <- getwd()
> #setwd(paste0(dir,'/prueba'))
> 
> # Configure git.
> git2r::config(user.name = "javendaXgh",user.email = "javenda@gmail.com")
> 
> # # Check git status.
> # gitstatus()
> # 
> # # Download a file.
> # url <- "https://i.kym-cdn.com/entries/icons/original/000/002/232/bullet_cat.jpg"
> # dir.create('prueba')
> # destfile <- "prueba/bullet_cat.jpg"
> # download.file(url,destfile)
> 
> 
> 
> valor <- readRDS('/Users/josemiguelavendanoinfante/R/sites/javenda_site/valor.rds')
> suma <- valor+4
> print(suma)
[1] 12
> saveRDS(suma,'/Users/josemiguelavendanoinfante/R/sites/javenda_site/suma.rds')
> saveRDS(suma,'/Users/josemiguelavendanoinfante/R/shiny/app_covid_ven/valor_prueba.rds')
> 
> 
> # Add and commit changes. 
> gitadd()
sh: /u: No such file or directory
> gitcommit()
[main d2f063e] commit from Rstudio
 1 file changed, 167 insertions(+)
 create mode 100644 archivo_prueba.Rout
> 
> # Push changes to github.
> gitpush()
sh: /u: No such file or directory
To github.com:javendaXgh/app_covid_ven.git
   303accc..d2f063e  main -> main
> 
> 
> 
> 
> proc.time()
   user  system elapsed 
  0.907   0.200   6.231 
